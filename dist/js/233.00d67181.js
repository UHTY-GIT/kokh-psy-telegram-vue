"use strict";(self["webpackChunkkokh_assistant_vue_telegram"]=self["webpackChunkkokh_assistant_vue_telegram"]||[]).push([[233],{7283:function(a,t,e){a.exports=e.p+"img/arrow-rigth-butt.e3e21117.svg"},7614:function(a,t,e){e.r(t),e.d(t,{default:function(){return T}});var s=e(6768),r=e(4232);const l={class:"content-main"},n={key:0,class:"state state--loading"},o={class:"sv-dash"},i={class:"sv-card sv-card--status"},c={class:"sv-card__text"},d={class:"sv-card__value"},u={class:"sv-cta__arrow","aria-hidden":"true"},v=["src"],k={class:"sv-card sv-card--progress"},g={class:"sv-progress",role:"group","aria-label":"EFCT Growth Index"},_={class:"sv-progress__track","aria-hidden":"true"},p={class:"sv-progress__value","aria-label":"Ð—Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ"},h={key:0,class:"sv-card__text"},L={key:0,class:"debug-info",style:{"margin-top":"20px",padding:"10px",background:"#f0f0f0","border-radius":"8px"}},f={style:{"white-space":"pre-wrap","word-break":"break-all"}},w={style:{"white-space":"pre-wrap","word-break":"break-all"}};function b(a,t,e,b,m,D){const x=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[t[10]||(t[10]=(0,s.Lk)("div",{class:"container-tittle"},[(0,s.Lk)("p",null," ÐšÐ°Ð±Ñ–Ð½ÐµÑ‚ ÑÑƒÐ¿ÐµÑ€Ð²Ñ–Ð·Ð°Ð½Ñ‚Ð° "),(0,s.Lk)("hr",{class:"hr_title"})],-1)),(0,s.Lk)("div",l,[b.loading?((0,s.uX)(),(0,s.CE)("div",n,[...t[0]||(t[0]=[(0,s.Lk)("div",{class:"spinner","aria-label":"Loading"},null,-1),(0,s.Lk)("p",{class:"state__text"},"Ð—Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ...",-1)])])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Lk)("section",o,[t[5]||(t[5]=(0,s.Lk)("h2",{class:"sv-dash__subtitle"},"Ð’Ð°Ñˆ Ð¿Ñ€Ð¾ÑÑ‚Ñ–Ñ€ Ð¿Ñ€Ð¾Ñ„ÐµÑÑ–Ð¹Ð½Ð¾Ð³Ð¾ Ð·Ñ€Ð¾ÑÑ‚Ð°Ð½Ð½Ñ",-1)),(0,s.Lk)("div",i,[t[2]||(t[2]=(0,s.Lk)("h3",{class:"sv-card__title"},"ÐŸÐ¾Ñ‚Ð¾Ñ‡Ð½Ð¸Ð¹ ÑÑ‚Ð°Ñ‚ÑƒÑ",-1)),(0,s.Lk)("div",c,[(0,s.Lk)("p",null,[b.lastConsultationDate?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[t[1]||(t[1]=(0,s.eW)(" ÐžÑÑ‚Ð°Ð½Ð½Ñ ÑÑƒÐ¿ÐµÑ€Ð²Ñ–Ð·Ñ–Ñ Ð²Ñ–Ð´Ð±ÑƒÐ»Ð°ÑÑ: ",-1)),(0,s.Lk)("span",d,(0,r.v_)(b.formatDate(b.lastConsultationDate)),1)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" Ð¡ÑƒÐ¿ÐµÑ€Ð²Ñ–Ð·Ñ–Ð¹Ð½Ð° ÑÐµÑÑ–Ñ Ñ‰Ðµ Ð½Ðµ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ð° ")],64))])])]),(0,s.bF)(x,{class:"sv-cta",to:"/supervisor/case-description","aria-label":"Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð¼Ð°Ñ‚ÐµÑ€Ñ–Ð°Ð»Ð¸ Ð´Ð»Ñ ÑÑƒÐ¿ÐµÑ€Ð²Ñ–Ð·Ñ–Ñ—"},{default:(0,s.k6)(()=>[t[3]||(t[3]=(0,s.Lk)("span",{class:"sv-cta__text"},"Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð¼Ð°Ñ‚ÐµÑ€Ñ–Ð°Ð»Ð¸ Ð´Ð»Ñ ÑÑƒÐ¿ÐµÑ€Ð²Ñ–Ð·Ñ–Ñ—",-1)),(0,s.Lk)("span",u,[(0,s.Lk)("img",{class:"sv-cta__arrow-icon",src:b.arrowButt,alt:"arrow right"},null,8,v)])]),_:1}),(0,s.Lk)("div",k,[t[4]||(t[4]=(0,s.Lk)("h3",{class:"sv-card__title"},"EFCT Growth Index",-1)),(0,s.Lk)("div",g,[(0,s.Lk)("div",_,[(0,s.Lk)("div",{class:"sv-progress__fill",style:(0,r.Tr)({width:b.animatedGrowthIndex+"%"})},null,4)]),(0,s.Lk)("div",p,(0,r.v_)(b.growthIndex)+"%",1)]),b.growthIndex>0?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.Lk)("p",null,(0,r.v_)(b.efctText),1)])):(0,s.Q3)("",!0)])]),b.isDebugMode?((0,s.uX)(),(0,s.CE)("div",L,[t[6]||(t[6]=(0,s.Lk)("h3",null,"Debug Init Data ðŸž",-1)),t[7]||(t[7]=(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,"initData (Raw):")],-1)),(0,s.Lk)("pre",f,(0,r.v_)(b.telegramInitData),1),t[8]||(t[8]=(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,"initDataUnsafe:")],-1)),(0,s.Lk)("pre",w,(0,r.v_)(b.telegramInitDataUnsafe),1)])):(0,s.Q3)("",!0),t[9]||(t[9]=(0,s.Lk)("section",{class:"sv-card__footer"},[(0,s.Lk)("p",null,[(0,s.Lk)("b",null,"Â© ÐšÐ°Ñ‚ÐµÑ€Ð¸Ð½Ð° ÐšÐ¾Ñ…, 2026. Ð£ÑÑ– Ð¿Ñ€Ð°Ð²Ð° Ð·Ð°Ñ…Ð¸Ñ‰ÐµÐ½Ð¾."),(0,s.eW)(),(0,s.Lk)("br"),(0,s.eW)(" Ð‘ÑƒÐ´ÑŒ-ÑÐºÑ– Ð¼Ð°Ñ‚ÐµÑ€Ñ–Ð°Ð»Ð¸ Ñ†ÑŒÐ¾Ð³Ð¾ ÑÐµÑ€Ð²Ñ–ÑÑƒ, Ð²ÐºÐ»ÑŽÑ‡Ð½Ð¾ Ð· Ñ‚ÐµÐºÑÑ‚Ð°Ð¼Ð¸, ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¾ÑŽ, Ñ„Ð¾Ñ€Ð¼Ð¾ÑŽ Ð¿Ð¾Ð´Ð°Ñ‡Ñ–, Ð¼ÐµÑ‚Ð¾Ð´Ð¸Ñ‡Ð½Ð¾ÑŽ Ð»Ð¾Ð³Ñ–ÐºÐ¾ÑŽ Ñ‚Ð° Ð´Ð¸Ð·Ð°Ð¹Ð½Ð¾Ð¼, Ñ” Ð¾Ð±â€™Ñ”ÐºÑ‚Ð°Ð¼Ð¸ Ð°Ð²Ñ‚Ð¾Ñ€ÑÑŒÐºÐ¾Ð³Ð¾ Ð¿Ñ€Ð°Ð²Ð°. ")])],-1))],64))])])}e(3110);var m=e(144),D=e(7283),x=e(133),y=e(5741),C=e.n(y),E=e(782),I={name:"SupervisorDashboardPage",setup(){const a=(0,E.Pj)(),t=(0,m.KR)(!0),e=(0,m.KR)(0),r=(0,m.KR)(0),l=(0,m.KR)(""),n=(0,m.KR)(null),o=(0,m.KR)(""),i=(0,m.KR)("");let c=null;const d=(0,s.EW)(()=>a.getters.isDebugMode),u=()=>{r.value=0,c=window.setTimeout(()=>{r.value=e.value},250)},v=a=>{const t={year:"numeric",month:"2-digit",day:"2-digit"},e=new Date(a);return e.toLocaleDateString("uk-UA",t)},k=async()=>{t.value=!0;try{const a=localStorage.getItem("telegram_user_id"),[t,s]=await Promise.all([x.A.getEfctProtocol(a).catch(a=>(console.error("Error fetching EFCT protocol:",a),{data:{data:{efct_index:0,efct_text:"ÐÐµÐ²Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¾"}}})),x.A.getClientConsultations(a).catch(a=>(console.error("Error fetching consultations:",a),{data:{data:[]}}))]);if(t&&t.data){const a=t.data,s=Array.isArray(a)?a:Array.isArray(a.data)?a.data:[];if(s.length>0){const a=s[0];e.value=a.efct_index||0,l.value=a.efct_text||""}}if(s&&s.data&&s.data.data){const a=s.data.data;a.length>0?(a.sort((a,t)=>new Date(t.consultation_date)-new Date(a.consultation_date)),n.value=a[0].consultation_date):n.value=null}}catch(a){console.error("Error fetching dashboard data:",a),C().toast({html:"ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ Ð´Ð°Ð½Ð¸Ñ…"})}finally{t.value=!1,e.value>0&&u()}};return(0,s.sV)(()=>{const a=window.Telegram?.WebApp;a&&(o.value=a.initData,i.value=JSON.stringify(a.initDataUnsafe,null,2)),k()}),(0,s.xo)(()=>{c&&window.clearTimeout(c)}),{loading:t,growthIndex:e,animatedGrowthIndex:r,efctText:l,lastConsultationDate:n,arrowButt:D,formatDate:v,telegramInitData:o,telegramInitDataUnsafe:i,isDebugMode:d}}},K=e(1241);const A=(0,K.A)(I,[["render",b]]);var T=A}}]);
//# sourceMappingURL=233.00d67181.js.map