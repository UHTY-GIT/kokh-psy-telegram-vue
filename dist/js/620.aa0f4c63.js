"use strict";(self["webpackChunkkokh_assistant_vue_telegram"]=self["webpackChunkkokh_assistant_vue_telegram"]||[]).push([[620],{7283:function(a,t,e){a.exports=e.p+"img/arrow-rigth-butt.e3e21117.svg"},7620:function(a,t,e){e.r(t),e.d(t,{default:function(){return A}});var r=e(6768);const s={class:"content-main radar-container-margin"},l={class:"sv-feedback"},o=["src"],n={class:"sv-feedback__section"},i={key:0,class:"state state--loading"},c={class:"sv-feedback__chart"};function d(a,t,e,d,u,h){const p=(0,r.g2)("router-link"),b=(0,r.g2)("RadarChartSupervisor");return(0,r.uX)(),(0,r.CE)("div",null,[t[6]||(t[6]=(0,r.Lk)("div",{class:"container-tittle"},[(0,r.Lk)("p",null,"Фідбек супервізора"),(0,r.Lk)("hr",{class:"hr_title"})],-1)),(0,r.Lk)("div",s,[(0,r.Lk)("div",l,[t[4]||(t[4]=(0,r.Lk)("p",{class:"sv-feedback__subtitle"}," Переглядайте детальні коментарі та рекомендації за підсумками останньої зустрічі ",-1)),(0,r.bF)(p,{class:"sv-feedback__btn",to:"/supervisor/feedback/details"},{default:(0,r.k6)(()=>[t[0]||(t[0]=(0,r.Lk)("span",null,"Фідбек супервізора",-1)),(0,r.Lk)("img",{class:"sv-feedback__btn-icon",src:d.arrowRightIcon,alt:"","aria-hidden":"true"},null,8,o)]),_:1}),t[5]||(t[5]=(0,r.Lk)("hr",{class:"sv-feedback__divider"},null,-1)),(0,r.Lk)("div",n,[t[2]||(t[2]=(0,r.Lk)("h2",{class:"sv-feedback__title"},"Карта навичок",-1)),t[3]||(t[3]=(0,r.Lk)("p",{class:"sv-feedback__text"}," Візуалізація вашого росту в моделі EFT. Графік оновлюється супервізором по мірі опанування вами нових компетенцій ",-1)),d.loading?((0,r.uX)(),(0,r.CE)("div",i,[...t[1]||(t[1]=[(0,r.Lk)("div",{class:"spinner","aria-label":"Loading"},null,-1),(0,r.Lk)("p",{class:"state__text"},"Завантажуємо графік...",-1)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",c,[!d.loading&&d.chartLabels.length>0?((0,r.uX)(),(0,r.Wv)(b,{key:0,chartLabels:d.chartLabels,chartValues:d.chartValues},null,8,["chartLabels","chartValues"])):(0,r.Q3)("",!0)])])])])])}e(4114),e(8111),e(1701);var u=e(144);const h={class:"sv-radar"},p={class:"sv-radar__chart"};function b(a,t,e,s,l,o){const n=(0,r.g2)("RadarChart");return(0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("div",p,[(0,r.bF)(n,{chartData:s.chartData,options:s.chartOptions},null,8,["chartData","options"])])])}var k=e(614),v=e(7363);v.t1.register(v.hE,v.m_,v.s$,v.h9,v.pr,v.FN,v.No,v.dN);var g={name:"RadarChartSupervisor",components:{RadarChart:k.VW},props:{chartLabels:{type:Array,default:()=>[]},chartValues:{type:Array,default:()=>[]}},setup(a){const{chartLabels:t,chartValues:e}=(0,u.QW)(a),s="rgba(218, 177, 137, 0.28)",l="rgba(218, 177, 137, 0.95)",o="rgba(218, 177, 137, 1)",n=(a,t=2)=>{const e=a.split(" "),r=[];for(let s=0;s<e.length;s+=t)r.push(e.slice(s,s+t).join(" "));return r},i=(0,r.EW)(()=>({labels:t.value.map(a=>n(a)),datasets:[{label:"EFCT Competency Profile",data:e.value,fill:!0,backgroundColor:s,borderColor:l,pointBackgroundColor:o,pointBorderColor:l,pointRadius:3,borderWidth:2}]})),c={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"top",labels:{boxWidth:40,boxHeight:12,font:{family:"Nunito",size:14,weight:"600"}}},tooltip:{enabled:!0}},scales:{r:{beginAtZero:!0,min:0,max:100,ticks:{stepSize:20,showLabelBackdrop:!1,font:{family:"Nunito",size:10},color:"#494b55"},pointLabels:{font:a=>{const t=a.chart.width;return{family:"Nunito",size:t<360?10:t<500?11:12,weight:"600"}},color:"#494b55"},grid:{color:"#494b55",lineWidth:1},angleLines:{color:"#494b55",lineWidth:1}}}};return{chartData:i,chartOptions:c}}},f=e(1241);const _=(0,f.A)(g,[["render",b]]);var L=_,m=e(7283),C=e(133),y=e(5741),R=e.n(y),w={name:"SupervisorFeedbackPage",components:{RadarChartSupervisor:L},setup(){const a=(0,u.KR)(!0),t=(0,u.KR)([]),e=(0,u.KR)([]),s=(0,u.KR)([]),l=["Stage 1 ДЕЕСКАЛАЦІЯ","Альянс","Мікронавички","Stage 2 РЕСТРУКТУРИЗАЦІЯ","Tango skills","Я-терапевта"],o=async()=>{a.value=!0,t.value=[];try{const a=localStorage.getItem("telegram_user_id"),t=await C.A.getEfctSkills(a),r=t.data,o=Array.isArray(r)?t.data:t.data.data||[],n=new Map(o.map(a=>[a.title,a])),i=[],c=[];l.forEach(a=>{const t=n.get(a);if(i.push(a),t&&t.max_score>0){const a=Math.round(t.score/t.max_score*100);c.push(a)}else c.push(0)}),e.value=i,s.value=c}catch(r){console.error("Error fetching skills:",r),R().toast({html:"Помилка завантаження даних графіка"})}finally{a.value=!1}};return(0,r.sV)(()=>{o()}),{loading:a,errors:t,arrowRightIcon:m,chartLabels:e,chartValues:s}}};const E=(0,f.A)(w,[["render",d],["__scopeId","data-v-085f3210"]]);var A=E}}]);
//# sourceMappingURL=620.aa0f4c63.js.map