"use strict";(self["webpackChunkkokh_assistant_vue_telegram"]=self["webpackChunkkokh_assistant_vue_telegram"]||[]).push([[228],{7228:function(e,s,t){t.r(s),t.d(s,{default:function(){return _}});var n=t(6768),a=t(4232);const l=(0,n.Lk)("div",{class:"container-tittle"},[(0,n.Lk)("p",null," Всі сесії "),(0,n.Lk)("hr",{class:"hr_title"})],-1),r={class:"container-all-session"},o=(0,n.Lk)("p",{class:"under-title-text"}," Тут ви можете переглянути свої сесії, та інформацію про них 🤍 ",-1),i=["onClick"],u={key:0,class:"error-messages"};function c(e,s,t,c,k,d){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",null,[l,(0,n.Lk)("div",r,[o,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.sessions,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"block-session",onClick:s=>c.goToSession(e.id)},[(0,n.Lk)("p",null,"Сесія №"+(0,a.v_)(e.number),1),(0,n.Lk)("p",null,(0,a.v_)(c.formatDate(e.consultation_date)),1)],8,i)))),128))])]),c.errors.length?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.errors,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,a.v_)(e),1)))),128))])])):(0,n.Q3)("",!0)],64)}t(4114);var k=t(144),d=t(1387),g=t(5506),m=t(5741),p=t.n(m),v={name:"AllSessionClient",setup(){const e=(0,k.KR)([]),s=(0,d.rd)(),t=(0,k.KR)(""),a=(0,k.KR)([]),l=async()=>{try{const s=localStorage.getItem("telegram_user_id");a.value.push("telegramID1 "+s);const t=window.Telegram.WebApp,n=t.initDataUnsafe,l=n.user,r=l.id;a.value.push("telegramID "+r);const o=await g.A.getClientConsultations(r);e.value=o.data.data}catch(s){console.error("Error fetching sessions:",s),p().toast({html:"Помилка завантаження сесій"})}},r=e=>{const s={year:"numeric",month:"2-digit",day:"2-digit"},t=new Date(e);return t.toLocaleDateString("uk-UA",s)},o=e=>{s.push({name:"oneSessionClient",params:{sessionId:e}})};return(0,n.sV)(l),{sessions:e,formatDate:r,goToSession:o,userId:t,errors:a}}},h=t(1241);const C=(0,h.A)(v,[["render",c]]);var _=C}}]);
//# sourceMappingURL=228.b30f7dc4.js.map