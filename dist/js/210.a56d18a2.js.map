{"version":3,"file":"js/210.a56d18a2.js","mappings":"wOAGsBA,MAAM,wB,aAMnBA,MAAM,oB,GAMNA,MAAM,yB,yCAZFC,EAAAC,U,WAAXC,EAAAA,EAAAA,IAGM,MAHNC,EAGM,IAAAC,EAAA,KAAAA,EAAA,KAFJC,EAAAA,EAAAA,IAAgD,OAA3CN,MAAM,UAAU,aAAW,W,UAChCM,EAAAA,EAAAA,IAAiD,KAA9CN,MAAM,eAAc,0BAAsB,U,WAG/CG,EAAAA,EAAAA,IAkBM,MAAAI,EAAA,EAjBJD,EAAAA,EAAAA,IAKM,MALNE,EAKM,EAJJF,EAAAA,EAAAA,IAEI,SAFD,YACMG,EAAAA,EAAAA,IAAGR,EAAAS,aAAaC,QAAM,G,aAE/BL,EAAAA,EAAAA,IAAqB,MAAjBN,MAAM,YAAU,aAEtBM,EAAAA,EAAAA,IAUM,MAVNM,EAUM,G,aATJT,EAAAA,EAAAA,IAQMU,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARcb,EAAAc,oBAARC,K,WAAZb,EAAAA,EAAAA,IAQM,OARoCc,IAAKD,EAAKE,WAAYlB,MAAM,uB,EACpEM,EAAAA,EAAAA,IAGI,WAFFA,EAAAA,EAAAA,IAAwD,OAAlDa,IAAKlB,EAAAmB,gBAAgBJ,EAAKE,YAAaG,IAAI,Q,mBAAO,KACxDZ,EAAAA,EAAAA,IAAGR,EAAAqB,iBAAiBN,EAAKE,aAAU,MAErCZ,EAAAA,EAAAA,IAEI,UAAAG,EAAAA,EAAAA,IADCO,EAAKO,aAAW,O,i5TAqB7B,GACEC,KAAM,iBACNC,KAAAA,GACE,MAAMC,GAAQC,EAAAA,EAAAA,MACRjB,GAAekB,EAAAA,EAAAA,IAAI,CAAC,GACpBC,GAAaD,EAAAA,EAAAA,IAAI,IAEjB1B,GAAU0B,EAAAA,EAAAA,KAAI,GAEdE,EAAoBC,UACxB7B,EAAQ8B,OAAQ,EAEhB,IAKE,MAAMC,EAAaC,aAAaC,QAAQ,oBAClCC,EAAiBV,EAAMW,OAAOC,UAC9BC,QAAiBC,EAAAA,EAAWC,yBAAyBR,EAAYG,GACvE1B,EAAasB,MAAQO,EAASG,KAAKA,KAGnC,MAAMC,EAAaT,aAAaC,QAAQ,eACxCN,EAAWG,MAAQW,CACrB,CAAE,MAAOC,GACPC,QAAQD,MAAM,+BAAgCA,GAC9CE,IAAAA,MAAQ,CAAEC,KAAM,qCAClB,CAAE,QACA7C,EAAQ8B,OAAQ,CAClB,GAGIjB,GAAsBiC,EAAAA,EAAAA,IAAS,IAC5BtC,EAAasB,MAAMiB,mBAAmBC,OAAOlC,GAAQA,EAAKO,cAAgB,IAG7ED,EAAoB6B,GACN,wBAAdA,EAC0B,eAArBtB,EAAWG,MAAyB,cAAgB,qBAEtDmB,EAGH/B,EAAmB+B,IACvB,MAAMC,EAAQ,CACZ,sBAA4C,eAArBvB,EAAWG,MAAyBqB,EAAmBC,EAC9E,2BAA4BC,EAC5B,wBAAyBC,EACzB,mBAAoBC,EACpB,6BAA8BC,EAC9B,mBAAoBC,GAEtB,OAAOP,EAAMD,IAKf,OAFAS,EAAAA,EAAAA,IAAU9B,GAEH,CACLpB,eACAmB,aACA3B,UACAa,sBACAO,mBACAF,kBAEJ,G,UCxGF,MAAMyC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://kokh-assistant-vue-telegram/./src/views/OneSessionPage.vue","webpack://kokh-assistant-vue-telegram/./src/views/OneSessionPage.vue?6dde"],"sourcesContent":["<!-- src/views/OneSessionPage.vue -->\n<template>\n  <!-- LOADING -->\n  <div v-if=\"loading\" class=\"state state--loading\">\n    <div class=\"spinner\" aria-label=\"Loading\"></div>\n    <p class=\"state__text\">Завантажуємо сесію ...</p>\n  </div>\n\n  <div v-else>\n    <div class=\"container-tittle\">\n      <p>\n        Сесія №{{ consultation.number }}\n      </p>\n      <hr class=\"hr_title\">\n    </div>\n    <div class=\"container-one-session\">\n      <div v-for=\"item in filteredConsultData\" :key=\"item.field_name\" class=\"one-section-content\">\n        <b>\n          <img :src=\"getIconForField(item.field_name)\" alt=\"icon\">\n          {{ getTitleForField(item.field_name) }}\n        </b>\n        <p>\n          {{ item.text_answer }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport apiService from '@/services/apiService';\nimport M from 'materialize-css';\n\nimport aiTechnologyIcon from '@/assets/icons/ai-technology.png';\nimport heartCoupleIcon from '@/assets/icons/heart-couple.png';\nimport aboutIcon from '@/assets/icons/about.png';\nimport receiptIcon from '@/assets/icons/receipt.png';\nimport documentSessionIcon from '@/assets/icons/document-session.png';\nimport hyperlinkIcon from '@/assets/icons/hyperlink.png';\nimport queryTherapyIcon from '@/assets/icons/lotus.png';\n\nexport default {\n  name: 'OneSessionPage',\n  setup() {\n    const route = useRoute();\n    const consultation = ref({});\n    const typeClient = ref('');\n\n    const loading = ref(false);\n\n    const fetchConsultation = async () => {\n      loading.value = true;\n\n      try {\n\n        // const originType = 'couple_classic'; //individual couple_classic\n        //const telegramID = 6112401748;\n\n        const telegramID = localStorage.getItem('telegram_user_id');\n        const consultationID = route.params.sessionId;\n        const response = await apiService.getOneClientConsultation(telegramID, consultationID);\n        consultation.value = response.data.data;\n\n        // Retrieve the client type from localStorage\n        const originType = localStorage.getItem('origin_type');\n        typeClient.value = originType;\n      } catch (error) {\n        console.error('Error fetching consultation:', error);\n        M.toast({ html: 'Помилка завантаження консультації' });\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const filteredConsultData = computed(() => {\n      return consultation.value.main_consult_data?.filter(item => item.text_answer) || [];\n    });\n\n    const getTitleForField = (fieldName) => {\n      if (fieldName === 'Основні думки сесії') {\n        return typeClient.value === 'individual' ? 'Думки сесії' : 'Діалоги близькості';\n      }\n      return fieldName;\n    };\n\n    const getIconForField = (fieldName) => {\n      const icons = {\n        'Основні думки сесії': typeClient.value === 'individual' ? aiTechnologyIcon : heartCoupleIcon,\n        'Запитання до самоаналізу': aboutIcon,\n        'Висновки консультації': receiptIcon,\n        'Домашнє завдання': documentSessionIcon,\n        'Матеріали для саморозвитку': hyperlinkIcon,\n        'Запит на терапію': queryTherapyIcon,\n      };\n      return icons[fieldName];\n    };\n\n    onMounted(fetchConsultation);\n\n    return {\n      consultation,\n      typeClient,\n      loading,\n      filteredConsultData,\n      getTitleForField,\n      getIconForField\n    };\n  }\n};\n</script>","import { render } from \"./OneSessionPage.vue?vue&type=template&id=3cfff441\"\nimport script from \"./OneSessionPage.vue?vue&type=script&lang=js\"\nexport * from \"./OneSessionPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","$setup","loading","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","consultation","number","_hoisted_4","_Fragment","_renderList","filteredConsultData","item","key","field_name","src","getIconForField","alt","getTitleForField","text_answer","name","setup","route","useRoute","ref","typeClient","fetchConsultation","async","value","telegramID","localStorage","getItem","consultationID","params","sessionId","response","apiService","getOneClientConsultation","data","originType","error","console","M","html","computed","main_consult_data","filter","fieldName","icons","aiTechnologyIcon","heartCoupleIcon","aboutIcon","receiptIcon","documentSessionIcon","hyperlinkIcon","queryTherapyIcon","onMounted","__exports__","render"],"ignoreList":[],"sourceRoot":""}